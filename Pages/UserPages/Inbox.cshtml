@page
@using GrobsJobsRazorPages.Model;
@using GrobsJobsRazorPages.Model;
@model GrobsJobsRazorPages.Pages.UserPages.InboxModel
@{
}

@if (Model.PreviewMessages.Count > 0){
    for (int i = 0; i < Model.PreviewMessages.Count; i++)
    {
        <div style="display: flex; justify-content: center;">
            <div class="border p-3 mt-4" style="width: 600px; display: flex-wrap; border-radius: 10px;">
                <div class="row pb-2">
                    <h2 style="color:lightseagreen; font-size:20px;">&quot;@Model.PreviewMessages[i].MessageTitle&quot; with <span style="font-weight: bold; color: #f3969a;">@Model.NormalizedUserNamesWithoutLoggedInUser[i]</span></h2>
                    <hr />
                </div>
                <div class="mb-3">
                    <p><span style="color: deepskyblue;">@Model.PreviewMessages[i].MessageSenderUserName: </span>"@Model.PreviewMessages[i].MessageBody"</p>
                </div>
                <div class="mb-3">
                    <p>At @Model.PreviewMessages[i].DateTimeSent</p>
                </div>
                <a asp-page="MessageThread" asp-route-secondPartyId="@Model.IdsWithoutLoggedInUser[i]">
                    <button type="button" class="btn btn-primary" style="width:150px;">View/Respond</button>
                </a>
            </div>
        </div>
    }
}
else{
    <p>You have no messages yet. Inquire on a job to begin a message thread.</p>
}



    

